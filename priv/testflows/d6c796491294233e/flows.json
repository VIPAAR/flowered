[{"id":"d6c796491294233e","type":"tab","label":"[supervisor] supervising two function nodes","disabled":false,"info":"Simple exampe of using the supervisor node to revive a function node that dies because it does a divide by zero.\n\nThe inject node can be pressed five times[1] and after the supervisor dies - check the configuration of the supervisor node for why this happens.\n\n[1]: Move a node, deploy the flow and then it's started. Inject button then has an affect.","env":[{"name":"ERED_NOT_EUNIT","value":"true","type":"bool"}]},{"id":"0deaa822bdca14f3","type":"group","z":"d6c796491294233e","name":"not supported configurations","style":{"label":true},"nodes":["50392eef4dd28a98","09f47d51e29f1147","ce1f7dda43c3a284","456864c3796a15ac","eafc72fec37ef25e","c4f4bf57e287beef"],"x":38,"y":49,"w":232,"h":370},{"id":"2e9075bca9b39507","type":"erlsupervisor","z":"d6c796491294233e","name":"","scope":["373d6e3f9b852130","66a17d54fe9f3bdd"],"strategy":"one_for_all","supervisor_type":"dynamic","auto_shutdown":"never","intensity":"5","period":"30","x":583,"y":438,"wires":[["079a3c0e58372482"]]},{"id":"373d6e3f9b852130","type":"function","z":"d6c796491294233e","name":"divide by zero error","func":"ered_nodes:post_exception_or_debug(NodeDef, Msg, <<\"divide by zero\">>),\n1 / 0","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":585,"y":501,"wires":[["3f010ba469a458a6"]]},{"id":"ca0b875d707b9b25","type":"inject","z":"d6c796491294233e","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":246,"y":650,"wires":[["373d6e3f9b852130","66a17d54fe9f3bdd"]]},{"id":"22f4b43bd101fa0c","type":"debug","z":"d6c796491294233e","name":"debug 1","active":true,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":1035,"y":288,"wires":[]},{"id":"66a17d54fe9f3bdd","type":"function","z":"d6c796491294233e","name":"function 1","func":"maps:put(hello,world,Msg)\n","outputs":1,"timeout":0,"noerr":0,"initialize":"","finalize":"","libs":[],"x":587,"y":648,"wires":[["96713a5958600f3b","2b24ab92a5a25fdf"]]},{"id":"3f010ba469a458a6","type":"ut-assert-failure","z":"d6c796491294233e","name":"","x":898,"y":501.5,"wires":[]},{"id":"96713a5958600f3b","type":"ut-assert-success","z":"d6c796491294233e","name":"","x":845,"y":573.5,"wires":[]},{"id":"2b24ab92a5a25fdf","type":"debug","z":"d6c796491294233e","name":"debug 2","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"counter","x":877,"y":649,"wires":[]},{"id":"50392eef4dd28a98","type":"erlsupervisor","z":"d6c796491294233e","g":"0deaa822bdca14f3","name":"","scope":null,"strategy":"one_for_one","supervisor_type":"static","auto_shutdown":"never","intensity":"1","period":"5","x":154,"y":90,"wires":[[]]},{"id":"09f47d51e29f1147","type":"erlsupervisor","z":"d6c796491294233e","g":"0deaa822bdca14f3","name":"","scope":null,"strategy":"one_for_one","supervisor_type":"dynamic","auto_shutdown":"any_significant","intensity":"1","period":"5","x":154,"y":146.5,"wires":[[]]},{"id":"33074a4c0243ec99","type":"catch","z":"d6c796491294233e","name":"","scope":["373d6e3f9b852130"],"uncaught":false,"x":507,"y":231,"wires":[["79d730c375733e32","bf4ae0b0a489befb"]]},{"id":"79d730c375733e32","type":"debug","z":"d6c796491294233e","name":"debug 3","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":798,"y":63,"wires":[]},{"id":"ce1f7dda43c3a284","type":"erlsupervisor","z":"d6c796491294233e","g":"0deaa822bdca14f3","name":"","scope":"flow","strategy":"one_for_one","supervisor_type":"dynamic","auto_shutdown":"never","intensity":"10","period":"30","x":154,"y":265,"wires":[[]]},{"id":"456864c3796a15ac","type":"erlsupervisor","z":"d6c796491294233e","g":"0deaa822bdca14f3","name":"","scope":"group","strategy":"one_for_one","supervisor_type":"dynamic","auto_shutdown":"never","intensity":"10","period":"30","x":154,"y":321.5,"wires":[[]]},{"id":"eafc72fec37ef25e","type":"erlsupervisor","z":"d6c796491294233e","g":"0deaa822bdca14f3","name":"","scope":"flow","strategy":"one_for_one","supervisor_type":"dynamic","auto_shutdown":"never","intensity":"1","period":"5","x":154,"y":378,"wires":[[]]},{"id":"c4f4bf57e287beef","type":"erlsupervisor","z":"d6c796491294233e","g":"0deaa822bdca14f3","name":"","scope":"flow","strategy":"one_for_one","supervisor_type":"dynamic","auto_shutdown":"never","intensity":"1","period":"5","x":154,"y":203,"wires":[[]]},{"id":"bf4ae0b0a489befb","type":"ut-assert-success","z":"d6c796491294233e","name":"","x":868,"y":171,"wires":[]},{"id":"079a3c0e58372482","type":"switch","z":"d6c796491294233e","name":"supervisor dead?","property":"status","propertyType":"msg","rules":[{"t":"eq","v":"dead","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":862,"y":390,"wires":[["b69e93448c758331"]]},{"id":"b69e93448c758331","type":"delay","z":"d6c796491294233e","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"allowrate":false,"outputs":1,"x":596,"y":289.5,"wires":[["22f4b43bd101fa0c","f085471e5c4dc05e"]]},{"id":"f085471e5c4dc05e","type":"change","z":"d6c796491294233e","name":"","rules":[{"t":"set","p":"action","pt":"msg","to":"restart","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":402,"y":386.5,"wires":[["2e9075bca9b39507"]]}]